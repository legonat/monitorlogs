(this["webpackJsonpreact-login-signup-ui-template"]=this["webpackJsonpreact-login-signup-ui-template"]||[]).push([[0],{248:function(e,t,n){},251:function(e,t,n){},298:function(e,t){},300:function(e,t){},322:function(e,t){},324:function(e,t){},339:function(e,t){},341:function(e,t){},351:function(e,t){},353:function(e,t){},425:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),s=n(45),c=n.n(s),a=n(79),i=(n(248),n(31)),l=n.n(i),u=n(59),p=n(12),d=(n(250),n(251),n(26)),h=n(236),j=n(15),b=n(16),f=n(18),g=n(17),O=n(2);function m(e){return"white"===e.color?Object(O.jsxs)("div",{className:"spinner-white",children:[Object(O.jsx)("div",{className:"bounce1"}),Object(O.jsx)("div",{className:"bounce2"}),Object(O.jsx)("div",{className:"bounce3"})]}):"blue"===e.color?Object(O.jsxs)("div",{className:"spinner-blue",children:[Object(O.jsx)("div",{className:"bounce1"}),Object(O.jsx)("div",{className:"bounce2"}),Object(O.jsx)("div",{className:"bounce3"})]}):void 0}var v=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){return Object(O.jsx)("div",{children:this.props.submitted?Object(O.jsx)("div",{children:Object(O.jsx)(m,{color:"white"})}):Object(O.jsx)("div",{className:"auth-wrapper",children:Object(O.jsx)("div",{className:"auth-inner",children:Object(O.jsxs)("form",{children:[Object(O.jsx)("h3",{children:"HSM Wallet Logs Access"}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{children:"Username"}),Object(O.jsx)("input",{name:"user",type:"text",className:"form-control",placeholder:"Enter username",value:this.props.user,onChange:this.props.handleUsernameInput})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{children:"Password"}),Object(O.jsx)("input",{name:"pass",type:"password",className:"form-control",placeholder:"Enter password",value:this.props.pass,onChange:this.props.handlePassInput})]}),Object(O.jsx)("div",{className:"form-group",children:Object(O.jsxs)("div",{className:"custom-control custom-checkbox",children:[Object(O.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"customCheck1",defaultChecked:this.props.canRememberMe,onChange:this.props.handleRememberMeCheckbox}),Object(O.jsx)("label",{className:"custom-control-label",htmlFor:"customCheck1",children:"Remember me"})]})}),Object(O.jsx)("button",{type:"submit",className:"btn btn-primary btn-block",onClick:this.props.handleLoginSubmit,children:"Submit"}),Object(O.jsxs)("p",{className:"forgot-password text-right",children:["Not registered yet? ",Object(O.jsx)("a",{href:"/#/registration",children:"Sign up"})]})]})})})})}}]),n}(r.Component),S=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){return Object(O.jsx)(v,{user:this.props.user,pass:this.props.pass,handleUsernameInput:this.props.handleUsernameInput,handlePassInput:this.props.handlePassInput,handleLoginSubmit:this.props.handleLoginSubmit,handleRememberMeCheckbox:this.props.handleRememberMeCheckbox,canRememberMe:this.props.canRememberMe,submitted:this.props.submitted})}}]),n}(o.a.Component),x=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(j.a)(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).handleRender=function(){return e.props.isAuthenticated?(e.props.handleLogoutSubmit(),Object(O.jsx)(m,{color:"white"})):Object(O.jsx)(d.a,{to:"/"})},e}return Object(b.a)(n,[{key:"render",value:function(){return Object(O.jsx)("div",{children:this.handleRender()})}}]),n}(r.Component),C=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){return Object(O.jsx)("div",{className:"auth-wrapper",children:Object(O.jsx)("div",{className:"auth-inner",children:Object(O.jsxs)("form",{children:[Object(O.jsx)("h3",{children:" Registration "}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{children:" Username "}),Object(O.jsx)("input",{name:"user",type:"text",className:"form-control",placeholder:"Enter username",value:this.props.user,onChange:this.props.handleUsernameInput})]}),Object(O.jsxs)("div",{className:"form-group",children:[" ",this.props.passwordMatch?Object(O.jsx)("label",{children:" Password "}):Object(O.jsx)("label",{id:"passMatch",children:"Passwords do not match"}),Object(O.jsx)("input",{name:"pass",type:"password",className:"form-control",placeholder:"Enter password",value:this.props.pass,onChange:this.props.handlePassInput,required:!0})]}),Object(O.jsx)("div",{className:"form-group",children:Object(O.jsx)("input",{name:"confirmPass",type:"password",className:"form-control",placeholder:"Confirm password",value:this.props.confirmPass,onChange:this.props.handleConfirmPassInput,required:!0})}),Object(O.jsx)("button",{type:"submit",className:"btn btn-primary btn-block",onClick:this.props.handleRegisterSubmit,disabled:!this.props.passwordMatch,children:"Register "}),Object(O.jsxs)("p",{className:"forgot-password text-right",children:["Already registered ? ",Object(O.jsx)("a",{href:"/#/login",children:" Sign in "})]})]})})})}}]),n}(r.Component),P=n(84),k=n(226),w=n(237),y=n(449),E=n(441),L=n(228),T=n(451),N=n(447),I=n(172),D=n.n(I),A=n(119),R=n.n(A),F=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(j.a)(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).buildTabsRow=function(){var t=[];return e.props.tabsArray.forEach((function(n,r){t.push(Object(O.jsx)(k.a,{onClick:function(){return e.props.onTabClick(r)},children:Object(O.jsx)(w.a,{eventKey:n,children:n})},r.toString()))})),t},e.buildTabsContent=function(){var t=[],n=e.props.contents;return e.props.tabsArray.forEach((function(e,r){t.push(Object(O.jsx)(y.a.Pane,{eventKey:e,children:n[r]},r.toString()))})),t},e.buildUnorderedDropdown=function(e,t,n,r,o){var s=e;return""!==t&&(s=t),"left"===o?Object(O.jsx)(k.a,{className:"ml-auto",children:Object(O.jsx)(B,{handleSelectChange:n,data:r,value:s})}):Object(O.jsx)(k.a,{className:"mr-auto",children:Object(O.jsx)(B,{handleSelectChange:n,data:r,value:s})})},e.buildOrderedDropdown=function(e,t,n,r,o){var s=e;return""!==t&&(s=t),"left"===o?Object(O.jsx)(k.a,{className:"ml-auto",children:Object(O.jsx)(G,{handleSelectChange:n,data:r,value:s})}):Object(O.jsx)(k.a,{className:"mr-auto",children:Object(O.jsx)(G,{handleSelectChange:n,data:r,value:s})})},e.buildSessionsDropdown=function(){if(void 0===e.props.sessions)return null;var t="Select session";return""!==e.props.sessionsDropdownValue&&(t=e.props.sessionsDropdownValue),Object(O.jsx)(k.a,{className:"ml-auto",children:Object(O.jsx)(G,{handleSelectChange:e.props.handleSelectSessionChange,data:e.props.sessions,value:t})})},e.buildFilenamesDropdown=function(){if(void 0===e.props.filenames)return null;var t="Select Log Name";return""!==e.props.logsDropdownValue&&(t=e.props.logsDropdownValue),Object(O.jsx)(k.a,{children:Object(O.jsx)(B,{handleSelectChange:e.props.handleSelectFilenameChange,data:e.props.filenames,value:t})})},e.buildDTP=function(){return Object(O.jsx)(k.a,{children:Object(O.jsx)(M,{})})},e.buildDTP2=function(){return Object(O.jsx)(k.a,{as:D.a})},e.buildSessionString=function(){return""!==e.props.sessionsDropdownValue?Object(O.jsxs)("p",{className:"session-text",children:["Selected session: ",e.props.sessionsDropdownValue]}):void 0!==e.props.dateRange&&null!==e.props.dateRange[0]&&null!==e.props.dateRange[1]?Object(O.jsxs)("p",{className:"session-text",children:["Selected session: ",R()(e.props.dateRange[0]).format("YYYY-MM-DD")," - ",R()(e.props.dateRange[1]).format("YYYY-MM-DD")]}):void 0},e}return Object(b.a)(n,[{key:"render",value:function(){return Object(O.jsx)("div",{children:Object(O.jsxs)(y.a.Container,{id:"tabs-with-dropdown",defaultActiveKey:this.props.tabsArray[this.props.currentTab],children:[Object(O.jsxs)(E.a,{className:"clearfix",children:[Object(O.jsx)(L.a,{sm:9,children:Object(O.jsxs)(T.a,{variant:"tabs",defaultActiveKey:this.props.tabsArray[this.props.currentTab],children:[this.buildTabsRow(),this.buildFilenamesDropdown(),this.buildSessionString()]})}),Object(O.jsx)(L.a,{sm:3,children:this.props.datePicker})]}),Object(O.jsx)(E.a,{children:Object(O.jsx)(L.a,{sm:12,children:Object(O.jsx)(y.a.Content,{children:this.buildTabsContent()})})})]})})}}]),n}(r.Component),G=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){var e=[];return this.props.data.forEach((function(t){var n=t.value,r=0;r=t.id,e.push(Object(O.jsx)(N.a.Item,{eventKey:r,"data-key":r,children:r+".    "+n},r.toString()))})),Object(O.jsxs)(N.a,{as:k.a,onSelect:this.props.handleSelectChange,children:[Object(O.jsx)(N.a.Toggle,{as:w.a,children:this.props.value}),Object(O.jsx)(N.a.Menu,{children:e})]})}}]),n}(r.Component),B=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){var e=[];return this.props.data.forEach((function(t){var n=t.value,r=0;r=t.id,e.push(Object(O.jsx)(N.a.Item,{eventKey:r,"data-key":r,children:n},r.toString()))})),Object(O.jsxs)(N.a,{as:k.a,onSelect:this.props.handleSelectChange,children:[Object(O.jsx)(N.a.Toggle,{as:w.a,children:this.props.value}),Object(O.jsx)(N.a.Menu,{children:e})]})}}]),n}(r.Component),M=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){return Object(O.jsx)(D.a,{renderInput:this.renderInput})}},{key:"renderInput",value:function(e,t,n){return Object(O.jsxs)("div",{children:[Object(O.jsx)("input",Object(P.a)({},e)),Object(O.jsx)("button",{onClick:t,children:"open calendar"}),Object(O.jsx)("button",{onClick:n,children:"close calendar"}),Object(O.jsx)("button",{onClick:function(){e.onChange({target:{value:""}})},children:"clear"})]})}}]),n}(o.a.Component),U=n(442),V=(n(177),function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(j.a)(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).handlePageClick=function(t){if("SPAN"!==t.target.nodeName){var n=parseInt(t.target.text);e.props.handlePageChange(n)}},e.handleFirstPageClick=function(){e.props.handlePageChange(1)},e.handleLastPageClick=function(){e.props.handlePageChange(e.props.pageCount)},e.handleForwardClick=function(){if(e.props.pageCount>e.props.currentPage){var t=e.props.currentPage+1;e.props.handlePageChange(t)}},e.handleBackwardsClick=function(){if(e.props.currentPage>1){var t=e.props.currentPage-1;e.props.handlePageChange(t)}},e.handleFastForwardClick=function(){if(e.props.pageCount-e.props.currentPage>10){var t=e.props.currentPage+10;e.props.handlePageChange(t)}},e.handleFastBackwardsClick=function(){if(e.props.currentPage>11){var t=e.props.currentPage-11;e.props.handlePageChange(t)}},e}return Object(b.a)(n,[{key:"render",value:function(){var e=this.props.pageCount,t=this.props.currentPage,n=0,r=0;switch(!0){case e<25:n=25,r=12;break;case e>25&&t<90:n=18,r=9;break;case e>25&&t<990:n=14,r=7;break;case t>1e3:n=12,r=6;break;default:n=12,r=6}var o=1,s=Math.trunc(t/n),c=[];t>=n*s&&s>0&&(o=s*n);for(var a=1;a<=n&&(t>n-1&&1===a&&e>n&&c.push(Object(O.jsx)(U.a.Ellipsis,{onClick:this.handleFastBackwardsClick})),c.push(Object(O.jsx)(U.a.Item,{active:o===t,onClick:this.handlePageClick,children:o},o)),o++,e-t>r&&a===n&&c.push(Object(O.jsx)(U.a.Ellipsis,{onClick:this.handleFastForwardClick})),!(o>e));a++);return Object(O.jsx)("div",{children:Object(O.jsxs)(U.a,{total:this.props.pageCount,children:[Object(O.jsx)(U.a.First,{onClick:this.handleFirstPageClick}),Object(O.jsx)(U.a.Prev,{onClick:this.handleBackwardsClick}),c,Object(O.jsx)(U.a.Next,{onClick:this.handleForwardClick}),Object(O.jsx)(U.a.Last,{onClick:this.handleLastPageClick})]})})}}]),n}(r.Component)),q=n(40);function J(){return{err:function(e){return void 0!==e.response&&alert(e.response.status+": "+e.response.data.error),q.a(e)},info:function(e){return q.b(e)},console:function(e){}}}var _=new J,W=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(j.a)(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).checkAuth=function(t){var n=Object(O.jsx)(m,{color:"white"});return void 0!==e.props.filenames[0]&&(n=Object(O.jsx)("div",{className:"board-inner",children:Object(O.jsx)(H,{logs:e.props.logs,errors:e.props.errors,handleSelectSessionChange:e.props.handleSelectSessionChange,handleSelectFilenameChange:e.props.handleSelectFilenameChange,handleLogsPageChange:e.props.handleLogsPageChange,handleErrorsPageChange:e.props.handleErrorsPageChange,handleSearchPageChange:e.props.handleSearchPageChange,currentLogsPage:e.props.currentLogsPage,currentErrorsPage:e.props.currentErrorsPage,currentSearchPage:e.props.currentSearchPage,sessions:e.props.sessions,logsDropdownValue:e.props.logsDropdownValue,sessionsDropdownValue:e.props.sessionsDropdownValue,filterText:e.props.filterText,filterService:e.props.filterService,filteredLogs:e.props.filteredLogs,filteredErrors:e.props.filteredErrors,filteredSearch:e.props.filteredSearch,loading:e.props.loading,errorsPageCount:e.props.errorsPageCount,logsPageCount:e.props.logsPageCount,itemsPerPage:e.props.itemsPerPage,currentTab:e.props.currentTab,handleTabClick:e.props.handleTabClick,completeSearchRequest:e.props.completeSearchRequest,searchResults:e.props.searchResults,searchPageCount:e.props.searchPageCount,handleLinkClick:e.props.handleLinkClick,logId:e.props.logId,searchedPage:e.props.searchedPage,filenames:e.props.filenames,datePicker:e.props.datePicker,dateRange:e.props.dateRange,needScrollDown:e.props.needScrollDown,currentSlicePage:e.props.currentSlicePage})})),Object(O.jsx)("div",{children:n})},e}return Object(b.a)(n,[{key:"render",value:function(){return this.checkAuth()}}]),n}(r.Component),H=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(e){var r;return Object(j.a)(this,n),(r=t.call(this,e)).tabsArray=["Logs","Errors"],r.toggleAnimation=function(){if(!0===r.props.loading)return _.console("LOADING Board Content"),Object(O.jsx)(m,{color:"blue"});var e=[];return _.console("passing content into tabs"),e.push(Object(O.jsxs)("div",{children:[Object(O.jsx)(V,{currentPage:r.props.currentLogsPage,pageCount:r.props.logsPageCount,handlePageChange:r.props.handleLogsPageChange}),Object(O.jsx)(Y,{names:Q,logs:r.props.logs,itemsPerPage:r.props.itemsPerPage,currentPage:r.props.currentSlicePage,filterText:r.props.filterText,filterService:r.props.filterService,filteredLogs:r.props.filteredLogs,handleLinkClick:r.props.handleLinkClick,logId:r.props.logId,needScrollDown:r.props.needScrollDown}),Object(O.jsx)(V,{currentPage:r.props.currentLogsPage,pageCount:r.props.logsPageCount,handlePageChange:r.props.handleLogsPageChange})]})),e.push(Object(O.jsxs)("div",{children:[Object(O.jsx)(V,{currentPage:r.props.currentErrorsPage,pageCount:r.props.errorsPageCount,handlePageChange:r.props.handleErrorsPageChange}),Object(O.jsx)(Y,{names:Q,logs:r.props.logs,itemsPerPage:r.props.itemsPerPage,currentPage:r.props.currentSlicePage,filterText:r.props.filterText,filterService:r.props.filterService,filteredLogs:r.props.filteredErrors,handleLinkClick:r.props.handleLinkClick,logId:r.props.logId,needScrollDown:r.props.needScrollDown}),Object(O.jsx)(V,{currentPage:r.props.currentErrorsPage,pageCount:r.props.errorsPageCount,handlePageChange:r.props.handleErrorsPageChange})]})),""!==r.props.completeSearchRequest?(_.console("Searching..."),_.console(r.props.searchResults),Object(O.jsxs)("div",{children:[Object(O.jsx)(V,{currentPage:r.props.currentSearchPage,pageCount:r.props.searchPageCount,handlePageChange:r.props.handleSearchPageChange}),Object(O.jsx)(Y,{names:Q,logs:r.props.logs,itemsPerPage:r.props.itemsPerPage,currentPage:r.props.currentSlicePage,filterText:r.props.filterText,filterService:r.props.filterService,filteredSearch:r.props.filteredSearch,handleLinkClick:r.props.handleLinkClick,logId:r.props.logId,needScrollDown:r.props.needScrollDown}),Object(O.jsx)(V,{currentPage:r.props.currentSearchPage,pageCount:r.props.searchPageCount,handlePageChange:r.props.handleSearchPageChange})]})):(_.console("building NAVTABS"),Object(O.jsx)(F,{tabsArray:r.tabsArray,handleSelectSessionChange:r.props.handleSelectSessionChange,handleSelectFilenameChange:r.props.handleSelectFilenameChange,sessions:r.props.sessions,filenames:r.props.filenames,logsDropdownValue:r.props.logsDropdownValue,sessionsDropdownValue:r.props.sessionsDropdownValue,contents:e,onTabClick:r.props.handleTabClick,currentTab:r.props.currentTab,datePicker:r.props.datePicker,dateRange:r.props.dateRange}))},r}return Object(b.a)(n,[{key:"render",value:function(){return this.toggleAnimation()}}]),n}(r.Component),Y=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){var e=this,t=this.props.filterText,n=this.props.filterService,r=[],o=this.props.itemsPerPage,s=this.props.currentPage,c=(s+1)*o,a=s*o;""===t&&""===n&&this.props.logs.slice(a,c).forEach((function(t){r.push(Object(O.jsx)(K,{handleLinkClick:e.props.handleLinkClick,logId:e.props.logId,needScrollDown:e.props.needScrollDown,log:t},t.id))}));void 0!==this.props.filteredLogs&&this.props.filteredLogs.slice(a,c).forEach((function(t){r.push(Object(O.jsx)(K,{logId:e.props.logId,handleLinkClick:e.props.handleLinkClick,needScrollDown:e.props.needScrollDown,log:t},t.id))}));void 0!==this.props.filteredSearch&&this.props.filteredSearch.slice(a,c).forEach((function(t){r.push(Object(O.jsx)(K,{logId:e.props.logId,handleLinkClick:e.props.handleLinkClick,needScrollDown:e.props.needScrollDown,log:t},t.id))}));return Object(O.jsxs)("table",{children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{id:"datecol",children:"Date"}),Object(O.jsx)("td",{id:"servcol",children:"Service"}),Object(O.jsx)("td",{id:"desccol",children:"Description"})]})}),Object(O.jsx)("tbody",{children:r})]})}}]),n}(r.Component),K=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(e){var r;return Object(j.a)(this,n),(r=t.call(this,e)).scrollRef=o.a.createRef(),r}return Object(b.a)(n,[{key:"render",value:function(){var e=this,t=this.props.log,n=t.id,r=t.dateUtc,o=t.service,s=t.description,c="http://localhost:5000/v2/private/getLogById?id="+n;return t.id===this.props.logId?(_.console("Found log"),Object(O.jsxs)("tr",{className:"selectedRow",ref:function(t){t&&e.props.needScrollDown&&t.scrollIntoView({behavior:"smooth",block:"center"})},children:[Object(O.jsx)("td",{id:"datecol",children:Object(O.jsx)("a",{href:c,onClick:this.props.handleLinkClick,"data-log-id":n,children:r})}),Object(O.jsx)("td",{id:"servcol",children:o}),Object(O.jsx)("td",{id:"desccol",children:s})]})):Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{id:"datecol",children:Object(O.jsx)("a",{href:c,onClick:this.props.handleLinkClick,"data-log-id":n,className:"table-link",children:r})}),Object(O.jsx)("td",{id:"servcol",children:o}),Object(O.jsx)("td",{id:"desccol",children:s})]})}}]),n}(r.Component),z=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){var e,t=this.props.session,n=t.dates;return e=t.id,Object(O.jsx)("option",{"data-key":e,children:e+".    "+n})}}]),n}(r.Component),Q=(r.Component,{id:0,date:"Date",service:"Source",description:"Description"}),$=n(450),X=n(448),Z=n(444),ee=n(232),te=n(230),ne=n(137),re=n(136),oe=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){var e=this;return Object(O.jsx)(me.Consumer,{children:function(t){return t.isAuthenticated?Object(O.jsxs)($.a,{bg:"primary",variant:"dark",sticky:"top",expand:"lg",className:"navbar",children:[Object(O.jsx)(T.a,{className:"col mr-4 justify-content-start",children:Object(O.jsx)($.a.Brand,{href:"/",children:"HSM Logs"})}),Object(O.jsx)($.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(O.jsxs)($.a.Collapse,{id:"basic-navbar-nav",children:[Object(O.jsx)(T.a,{className:"col-auto justify-content-space-between",children:Object(O.jsx)(X.a,{className:"search-bar",children:Object(O.jsxs)(Z.a,{className:"nav-group",children:[Object(O.jsx)(ee.a,{onChange:e.props.handleSearchInput,value:e.props.searchText,type:"text",placeholder:"Search All",className:"nav-form"}),Object(O.jsxs)(Z.a.Append,{children:[Object(O.jsx)(te.a,{variant:"outline-secondary",onClick:e.props.handleSearchInput,type:"button",className:"nav-btn-middle",children:Object(O.jsx)(re.a,{icon:ne.b})}),Object(O.jsx)(te.a,{onClick:e.props.handleSearchSubmit,variant:"outline-secondary",className:"nav-btn",type:"submit",children:"Search"})]})]})})}),Object(O.jsx)(T.a,{className:"col ml-4 justify-content-end",children:Object(O.jsx)(T.a.Link,{href:"/#/logout",children:"Logout"})})]})]}):Object(O.jsx)("div",{})}})}}]),n}(r.Component),se=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){var e=this.props.service,t=e.service;e.id;return Object(O.jsx)("option",{children:t})}}]),n}(r.Component),ce=(r.Component,n(233)),ae=["component","data"],ie=function(e){var t=e.component,n=e.data,o=Object(ce.a)(e,ae),s=function(e){Object(f.a)(s,e);var r=Object(g.a)(s);function s(){var e;Object(j.a)(this,s);for(var o=arguments.length,c=new Array(o),a=0;a<o;a++)c[a]=arguments[a];return(e=r.call.apply(r,[this].concat(c))).handleRender=function(r){var o=localStorage.getItem("isAuthenticated");return null===o&&(o=sessionStorage.getItem("isAuthenticated")),o?Object(O.jsx)(t,Object(P.a)(Object(P.a)({isAuthenticated:e.props.isAuthenticated},n),r)):(console.log("Redirecing from Private Route"),Object(O.jsx)(d.a,{to:"/login"}))},e}return Object(b.a)(s,[{key:"render",value:function(){return Object(O.jsx)(d.b,Object(P.a)(Object(P.a)({},o),{},{render:this.handleRender}))}}]),s}(r.Component);return Object(O.jsx)(me.Consumer,{children:function(e){return Object(O.jsx)(s,{isAuthenticated:e.isAuthenticated})}})},le=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){var e=function(){window.scrollTo({top:0,left:0,behavior:"smooth"})};return Object(O.jsx)(me.Consumer,{children:function(t){return t.isAuthenticated?Object(O.jsx)(te.a,{variant:"outline-light",onClick:e,className:"nav-to-top-btn",children:Object(O.jsx)(re.a,{icon:ne.a,size:"2x"})}):Object(O.jsx)("div",{})}})}}]),n}(r.Component),ue=n(238),pe=new J;var de=n(234),he=n.n(de),je=(n(382),n(167)),be=(n(428),"http://localhost:5000"),fe=new h.a,ge=new function(){var e=window.fetch,t=["http://127.0.0.1:5000","http://localhost:5000"],n=t[1],r="",o="",s=!1,c=!1;function a(){return(a=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue.a.load();case 2:return t=e.sent,e.next=5,t.get();case 5:return n=e.sent,o=n.visitorId,pe.console(o),s=!0,e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(e){r=e}function p(e){pe.console("Setting auth pending "+e),c=e}function d(e){if(pe.console("token "+e),void 0===e||""===e)return pe.console("Empty Token"),!1;var t=function(e){var t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(atob(t).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(n)}(e);return void 0===t?(pe.console("Parsing failed"),!1):t.exp<=Math.floor(Date.now()/1e3)?(pe.console("Token expired"),!1):(pe.console("Token Is Valid"),!0)}function h(e){return new Promise((function(t,n){setTimeout(t,e)}))}function j(e){return b.apply(this,arguments)}function b(){return(b=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c){e.next=4;break}return pe.console("Auth Pending in Promise"),e.next=4,h(5e3).then((function(){return pe.console("Auth Timout Finished")}));case 4:return e.abrupt("return",new Promise((function(e,n){try{c||(pe.console("Start Auth Promise"),p(!0),c=!0,g(t).then((function(e){if(pe.console(e),200===e.status)return pe.console("Auth Promise"),e,e.json();if(205===e.status)return pe.console("ReAuth Prevented"),new Promise((function(e,t){e(r)}));if(401===e.status)return pe.console("401: Unauthorized"),alert("401: Unauthorized"),localStorage.clear(),sessionStorage.clear(),void window.location.reload();if(!e.ok)throw Error(e.status+": "+e.statusText)})).then((function(t){if(t===r)return pe.console("No Reauth Success"),i(t),p(!1),void e(!0);i(t.accessToken),p(!1),pe.console("propmise authSuccess"),e(!0)})).catch((function(e){pe.console("Catching error"),pe.console(e),pe.err(e),n(e)})))}catch(o){pe.console(o)}})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return(f=Object(u.a)(l.a.mark((function o(s,c){var a,i;return l.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if("",pe.console("secure fetch"),d(r)){o.next=7;break}return pe.console("try Auth Fetch"),o.next=7,j(n+"/v2/authAttempt").then((function(e){pe.console("Reauth success "+e)})).catch((function(e){alert(e)}));case 7:if(pe.console("building fetch req"),a=new Request(s,c),i=new URL(a.url).origin,!t.includes(i)){o.next=15;break}a.headers.set("Authorization","Bearer ".concat(r)),a.headers.set("Content-Type","application/json"),o.next=17;break;case 15:return pe.console("Fetch failed. No auth token"),o.abrupt("return");case 17:o.next=19;break;case 19:return pe.console("sec fetch ready"),o.abrupt("return",e(a));case 21:case"end":return o.stop()}}),o)})))).apply(this,arguments)}function g(n,s){try{if(!d(r)){pe.console("secAuth attempt");var c=new Request(n,s),a=new URL(c.url).origin;return pe.console(c.url),""!==o&&t.includes(a)&&(c.headers.set("Content-Type","application/json"),c.headers.set("Fingerprint",o)),pe.console("auth request ready"),e(c)}var i=new Response(null,{status:205});return new Promise((function(e,t){e(i)}))}catch(l){pe.console(l)}}return new ReadableStream,{loadFingerprint:function(){return a.apply(this,arguments)},getLoadingStatus:function(){return pe.console("Fingerprint Loaded "+s),s},checkAuthPending:function(){return pe.console("Auth Pending "+c),c},checkToken:d,authPromise:j,setToken:i,secureFetch:function(e,t){return f.apply(this,arguments)},secureAuth:g}},Oe=new J,me=o.a.createContext();function ve(){var e=Object(d.g)(),t=(Object(d.h)(),Object(d.i)("/"),200),n=10,o=Object(r.useState)(""),s=Object(p.a)(o,2),c=s[0],i=s[1],h=Object(r.useState)(""),j=Object(p.a)(h,2),b=j[0],f=j[1],g=Object(r.useState)(""),m=Object(p.a)(g,2),v=m[0],P=m[1],k=Object(r.useState)(!0),w=Object(p.a)(k,2),y=w[0],E=w[1],L=Object(r.useState)(""),T=Object(p.a)(L,2),N=T[0],I=T[1],D=Object(r.useState)(""),A=Object(p.a)(D,2),R=A[0],F=A[1],G=Object(r.useState)(!1),B=Object(p.a)(G,2),M=B[0],U=B[1],V=Object(r.useState)(!1),q=Object(p.a)(V,2),J=q[0],_=q[1],H=Object(r.useState)(!1),Y=Object(p.a)(H,2),K=Y[0],z=Y[1],Q=Object(r.useState)(!1),$=Object(p.a)(Q,2),X=$[0],Z=$[1],ee=Object(r.useState)(0),te=Object(p.a)(ee,2),ne=te[0],re=te[1],se=Object(r.useState)(""),ce=Object(p.a)(se,2),ae=ce[0],ue=ce[1],pe=Object(r.useState)([]),de=Object(p.a)(pe,2),je=de[0],ve=de[1],Se=Object(r.useState)([]),xe=Object(p.a)(Se,2),Ce=xe[0],Pe=xe[1],ke=Object(r.useState)([]),we=Object(p.a)(ke,2),ye=we[0],Ee=we[1],Le=Object(r.useState)(""),Te=Object(p.a)(Le,2),Ne=Te[0],Ie=Te[1],De=Object(r.useState)(""),Ae=Object(p.a)(De,2),Re=Ae[0],Fe=Ae[1],Ge=Object(r.useState)(""),Be=Object(p.a)(Ge,2),Me=Be[0],Ue=Be[1],Ve=Object(r.useState)([]),qe=Object(p.a)(Ve,2),Je=qe[0],_e=(qe[1],Object(r.useState)([])),We=Object(p.a)(_e,2),He=We[0],Ye=(We[1],Object(r.useState)([])),Ke=Object(p.a)(Ye,2),ze=Ke[0],Qe=(Ke[1],Object(r.useState)(!1)),$e=Object(p.a)(Qe,2),Xe=$e[0],Ze=$e[1],et=Object(r.useState)(0),tt=Object(p.a)(et,2),nt=tt[0],rt=tt[1],ot=Object(r.useState)(0),st=Object(p.a)(ot,2),ct=st[0],at=st[1],it=Object(r.useState)(0),lt=Object(p.a)(it,2),ut=lt[0],pt=lt[1],dt=Object(r.useState)(0),ht=Object(p.a)(dt,2),jt=ht[0],bt=ht[1],ft=Object(r.useState)(0),gt=Object(p.a)(ft,2),Ot=gt[0],mt=gt[1],vt=Object(r.useState)(0),St=Object(p.a)(vt,2),xt=St[0],Ct=St[1],Pt=Object(r.useState)(0),kt=Object(p.a)(Pt,2),wt=kt[0],yt=kt[1],Et=Object(r.useState)(""),Lt=Object(p.a)(Et,2),Tt=(Lt[0],Lt[1]),Nt=Object(r.useState)(1),It=Object(p.a)(Nt,2),Dt=It[0],At=It[1],Rt=Object(r.useState)(1),Ft=Object(p.a)(Rt,2),Gt=Ft[0],Bt=Ft[1],Mt=Object(r.useState)(1),Ut=Object(p.a)(Mt,2),Vt=Ut[0],qt=Ut[1],Jt=Object(r.useState)(!1),_t=Object(p.a)(Jt,2),Wt=_t[0],Ht=_t[1],Yt=Object(r.useState)(!1),Kt=Object(p.a)(Yt,2),zt=(Kt[0],Kt[1],Object(r.useState)([null,null])),Qt=Object(p.a)(zt,2),$t=Qt[0],Xt=Qt[1],Zt=Object(p.a)($t,2),en=Zt[0],tn=Zt[1],nn=Object(r.useState)(!1),rn=Object(p.a)(nn,2),on=rn[0],sn=rn[1],cn=Object(r.useState)(!0),an=Object(p.a)(cn,2),ln=an[0],un=an[1],pn=Object(r.useState)([]),dn=Object(p.a)(pn,2),hn=(dn[0],dn[1],Object(r.useState)([])),jn=Object(p.a)(hn,2),bn=(jn[0],jn[1],Object(r.useState)(0)),fn=Object(p.a)(bn,2),gn=fn[0],On=fn[1],mn=Object(r.useState)(0),vn=Object(p.a)(mn,2),Sn=vn[0],xn=vn[1],Cn=Object(r.useState)(0),Pn=Object(p.a)(Cn,2),kn=Pn[0],wn=Pn[1],yn=Object(r.useState)(0),En=Object(p.a)(yn,2),Ln=En[0],Tn=En[1],Nn=Object(r.useState)(0),In=Object(p.a)(Nn,2),Dn=In[0],An=In[1],Rn=Object(r.useState)(!1),Fn=Object(p.a)(Rn,2),Gn=(Fn[0],Fn[1]),Bn=Object(r.useState)(!1),Mn=Object(p.a)(Bn,2),Un=(Mn[0],Mn[1]),Vn=Object(r.useState)([]),qn=Object(p.a)(Vn,2),Jn=qn[0],_n=qn[1],Wn=Object(r.useState)([]),Hn=Object(p.a)(Wn,2),Yn=Hn[0],Kn=Hn[1],zn=Object(r.useState)([]),Qn=Object(p.a)(zn,2),$n=Qn[0],Xn=Qn[1],Zn=Object(r.useState)(!1),er=Object(p.a)(Zn,2),tr=er[0],nr=er[1],rr=Object(r.useState)(!0),or=Object(p.a)(rr,2),sr=or[0],cr=or[1],ar=Object(r.useState)([]),ir=Object(p.a)(ar,2),lr=ir[0],ur=ir[1],pr=Object(r.useState)([]),dr=Object(p.a)(pr,2),hr=dr[0],jr=dr[1],br=Object(r.useState)([]),fr=Object(p.a)(br,2),gr=fr[0],Or=fr[1],mr=Object(r.useState)(0),vr=Object(p.a)(mr,2),Sr=vr[0],xr=vr[1],Cr=Object(r.useState)(!1),Pr=Object(p.a)(Cr,2),kr=Pr[0],wr=Pr[1],yr=Object(r.useState)(!1),Er=Object(p.a)(yr,2),Lr=Er[0],Tr=Er[1],Nr=Object(r.useState)(0),Ir=Object(p.a)(Nr,2),Dr=Ir[0],Ar=Ir[1],Rr=Object(r.useState)(0),Fr=Object(p.a)(Rr,2),Gr=Fr[0],Br=Fr[1],Mr=Object(O.jsxs)("div",{children:[" ",Object(O.jsx)(he.a,{className:"nav-form col-auto form-control",onInputClick:function(){sn(!0),un(!1)},onClickOutside:function(){sn(!1),un(!0)},open:on,selectsRange:!0,startDate:en,endDate:tn,onChange:function(e){Xt(e),e[1]&&(Oe.console("Date Picker Closed"),sn(!1),un(!0),ue(""),re(0),wr(!0),Tr(!0))},isClearable:!0,placeholderText:"Select a date",maxDate:new Date,dateFormat:"yyyy-MM-dd",showYearDropdown:!0,dateFormatCalendar:"MMMM",yearDropdownItemNumber:15,scrollableYearDropdown:!0,todayButton:"Today",strictParsing:!0})]}),Ur=function(e){i(e.target.value)},Vr=function(e){var t=e.target.value;f(t),E(t===v)},qr=function(e){var t=e.target.value;P(t),E(t===b)},Jr=function(e){var t=e.target.checked;_(t)};function _r(e){if(void 0===e.ok)throw Error("Request error");if(401===e.status)return alert("401: Unauthorized"),void Hr();if(!e.ok)throw Oe.err(e),Error(e.statusText);if(200!==e.status)throw Oe.err(e),Error(e.statusText);return Oe.console(e),e.json()}function Wr(){At(1),Bt(1),qt(1),Ct(0),On(0),Oe.console("REsetPagination Complete")}function Hr(){e.replace("/"),e.go(0)}function Yr(){localStorage.clear(),sessionStorage.clear(),e.push("#/login")}function Kr(){localStorage.clear(),sessionStorage.clear(),window.location.reload()}function zr(){return!K||!sr}function Qr(e){var n;return Oe.console("Total Logs count "+e),n=(e-e%t)/t+1,Oe.console("Total Pages Count "+n),n}function $r(){U(!0);var e={login:c,password:b,rememberMe:J};Oe.console("production"),ge.secureAuth("http://localhost:5000/v2/loginAttempt",{method:"POST",body:JSON.stringify(e)}).then((function(e){return _r(e)})).then((function(e){Oe.info("LoginSuccess"),Oe.console(e),J&&localStorage.setItem("isAuthenticated",!0),J||sessionStorage.setItem("isAuthenticated",!0),Hr()})).catch((function(e){Oe.console("Catching error"),Oe.err(e),Hr()}))}function Xr(){ge.secureFetch("http://localhost:5000/v2/logoutAttempt").then((function(e){if(200!==e.status)throw Error(e.statusText);Oe.info("LogoutSuccess"),Kr()})).catch((function(e){Oe.console("Catching error"),Oe.err(e),Hr()}))}function Zr(){return new Promise((function(e,t){if(Oe.console(Ne),""!==Ne){var n={value:Ne};ge.secureFetch("http://localhost:5000/v2/private/getLogsSessions",{method:"POST",body:JSON.stringify(n)}).then((function(e){return(t=e).ok?t.json():(Oe.err(t.status+": "+t.statusText),null);var t})).then((function(t){if(null!==t){Oe.console("GetLogSessionsSuccess");var n=t.sessions;ve(n),e(1)}})).catch((function(e){Oe.console("Catching error"),Oe.console(e),Oe.err(e),t(e),Hr()}))}}))}function eo(){return new Promise((function(n,r){if(Oe.console(Ne),""!==Ne){if(!sr)return Ze(zr()),void Oe.console("Preventing Request Dupe");cr(!1),Ze(!tr);var o={startDate:en,endDate:tn,filename:Ne,limit:2e3,offset:gn*t};ge.secureFetch("http://localhost:5000/v2/private/getLogsByDateWithLimit",{method:"POST",body:JSON.stringify(o)}).then((function(e){return _r(e)})).then((function(e){Oe.console("GetLogsByDateSuccess"),at(Qr(e.logsCount)),xn(e.logsCount),ur(e.currentLogs),Kn(e.backLogs),_n(e.forwardLogs),cr(!0),1===Dt&&xr(e.currentLogs[0].id),n(1)})).catch((function(t){Oe.console("Catching error"),Oe.err(t),e.replace("/"),e.go(0),r(t)}))}else Oe.console("No filename selected")}))}function to(){return new Promise((function(n,r){if(Oe.console(Ne),""!==Ne){if(!sr)return Ze(zr()),void Oe.console("Preventing Request Dupe");cr(!1),Ze(!tr);void 0!==lr[0]&&lr[0].sessionId;var o={sessionId:ne,filename:Ne,limit:2e3,offset:gn*t};ge.secureFetch("http://localhost:5000/v2/private/getLogsBySessionWithLimit",{method:"POST",body:JSON.stringify(o)}).then((function(e){return _r(e)})).then((function(e){Oe.console("GetLogsBySessionSuccess");var t=e.currentLogs[0].sessionId;Oe.console(e),at(Qr(e.logsCount)),xn(e.logsCount),ur(e.currentLogs),0===nt&&(Kn(e.backLogs),_n(e.forwardLogs)),t!==ne&&re(t),cr(!0),1===Dt&&xr(e.currentLogs[0].id),n(1)})).catch((function(t){Oe.console("Catching error"),Oe.err(t),r(t),e.replace("/"),e.go(0)}))}else Oe.console("No filename selected")}))}function no(){return new Promise((function(n,r){if(Oe.console(Ne),""!==Ne){if(!sr)return Ze(zr()),void Oe.console("Preventing Request Dupe");cr(!1),Ze(!tr);void 0!==lr[0]&&lr[0].sessionId;var o={sessionId:ne,filename:Ne,limit:2e3,offset:gn*t};ge.secureFetch("http://localhost:5000/v2/private/getErrorsBySessionWithLimit",{method:"POST",body:JSON.stringify(o)}).then((function(e){return _r(e)})).then((function(e){Oe.console("GetErrorsBySessionSuccess"),Oe.console(e),pt(Qr(e.errorsCount)),wn(e.errorsCount),jr(e.currentErrors),1===nt&&(Kn(e.backErrors),_n(e.forwardErrors)),cr(!0),n(1)})).catch((function(t){Oe.console("Catching error"),Oe.err(t),r(t),e.replace("/"),e.go(0)}))}else Oe.console("No filename selected")}))}function ro(){return new Promise((function(n,r){if(Oe.console(Ne),""!==Ne){if(!sr)return Ze(zr()),void Oe.console("Preventing Request Dupe");cr(!1),Ze(!tr);var o={startDate:en,endDate:tn,filename:Ne,limit:2e3,offset:gn*t};ge.secureFetch("http://localhost:5000/v2/private/getErrorsByDateWithLimit",{method:"POST",body:JSON.stringify(o)}).then((function(e){return _r(e)})).then((function(e){Oe.console("GetErrorsByDateSuccess"),Oe.console(e),pt(Qr(e.errorsCount)),wn(e.errorsCount),jr(e.currentErrors),Kn(e.backErrors),_n(e.forwardErrors),cr(!0),n(1)})).catch((function(t){Oe.console("Catching error"),Oe.err(t),e.replace("/"),e.go(0),r(t)}))}else Oe.console("No filename selected")}))}var oo=function(e){var t=b,n=v;(e.preventDefault(),t!==n)?E(!1):(E(!0),function(e){ge.secureFetch("http://localhost:5000/v2/registrationAttempt",{method:"POST",body:JSON.stringify(e)}).then((function(e){if(200!==e.status)throw Error(e.statusText);Oe.info("Registeration Successful"),Hr()})).catch((function(e){Oe.console("Catching error"),Oe.err(e),Hr()}))}({login:c,password:b}))},so=function(e){var t;return t=e/10|0,Oe.console("OFFSET: "+t),Oe.console("ROUND OFFSET: "+t*n),t*n},co=function(e,t,n){return e<t||e>n},ao=function(e){if(Oe.console("Setting Offset "),Oe.console("dif="+e),e>0)return Oe.console("Offset Forward"),void On(e);e<=-10&&(Oe.console("Offset Backward"),On(-e)),(e>-10||0===e)&&(Oe.console("Offset 0"),On(0))},io=function(e){return function(e){var t=e%10;return 0===t&&(t=10),t}(e)-1},lo=function(){X&&""!==Ne&&(Oe.console("GettingLogsSessions"),localStorage.setItem("lastSelectedFilename",Ne),sessionStorage.removeItem("lastSelectedSessionId"),Zr())};function uo(e){var t=e-gn;return Oe.console("PAge changed "+e),Oe.console("dif "+t),t>0&&t>n&&t-n<n?(Oe.console("Forward silent"),Xn(Jn),Gn(!0),Un(!1),nr(!0),void ao(n+gn)):t<=0&&t>=-10&&t+n<=n?(Oe.console("Backward silent"),Xn(Yn),Gn(!1),Un(!0),nr(!0),void ao(n-gn)):t>0&&t>n&&t-n>=n?(Oe.console("Forward LOUD"),Gn(!1),Un(!1),nr(!1),void ao(so(e))):t<0&&t<-10&&t+n<=0?(Oe.console("Backward LOUD"),Gn(!1),Un(!1),nr(!1),void ao(so(e))):void 0}Object(r.useEffect)((function(){var e=sessionStorage.getItem("isAuthenticated");if(null===e&&(e=localStorage.getItem("isAuthenticated"),_(null!==e)),e)return Oe.console("Setting isAuth"),void z(!0);Oe.console("Login page from Effect App"),Yr()}),[]),Object(r.useEffect)((function(){null===en&&null===tn&&""!==Ne&&(Wr(),Tr(!0),wr(!0))}),[en,tn]),Object(r.useEffect)((function(){1===nt&&void 0!==hr[0]&&(Oe.console("Showing Errors"),Xn(hr),An(io(Gt)),On(Gr))}),[nt,hr]),Object(r.useEffect)((function(){""!==R&&void 0!==gr[0]&&(Xn(gr),An(io(Vt)),On(so(Vt)))}),[nt,R,gr]),Object(r.useEffect)((function(){0===nt&&void 0!==lr[0]&&""===R&&(Oe.console("Setting Logs Offset"),Xn(lr),An(io(Dt)),On(Dr))}),[nt,lr]),Object(r.useEffect)((function(){xt>0&&(Xn(lr),At(xt),An(io(xt)),uo(xt),Ct(0),Oe.console("Set searched Page: "+xt))}),[xt]),Object(r.useEffect)((function(){Oe.console("offset changed?"),gn>=0&&X&&""!==Ne&&(Oe.console("Offset changed!"),0===nt&&gn!==Dr&&(Oe.console("SETTING LOGS UPDATE NEEDED"),Ar(gn),wr(!0)),1===nt&&gn!==Gr&&(Oe.console("SETTING ERRORS UPDATE NEEDED"),Br(gn),Tr(!0)))}),[gn,X,Ne]),Object(r.useEffect)((function(){""===N&&F("")}),[N]),Object(r.useEffect)((function(){var e=localStorage.getItem("lastSelectedFilename"),t=sessionStorage.getItem("lastSelectedSessionId");t=parseInt(t),Oe.console("Selected SessionID is:"),Oe.console(t),Oe.console(e),null===e&&(e=""),isNaN(t)&&(t=0),Ie(e),re(t)}),[]);Object(r.useEffect)((function(){Oe.console("loadFingerPrint"),ge.loadFingerprint().then((function(e){return Ht(e)}))}),[]),Object(r.useEffect)((function(){Oe.console("check token hook"),Z(ge.checkToken())}),[]),Object(r.useEffect)((function(){X&&(Oe.console("Getting Logs Filenames"),Oe.console("Getting log filenames"),ge.secureFetch("http://localhost:5000/v2/private/getLogsFilenames").then((function(e){return _r(e)})).then((function(e){Oe.console(e),Oe.console(e.results),Ee(e.results)})).catch((function(e){Oe.console("Catching error"),Oe.console(e),Oe.err(e),Hr()})))}),[X]),Object(r.useEffect)((function(){function e(){return(e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!X||null===en||null===tn||!Lr){e.next=4;break}return Oe.console("GettingLogsByDate"),e.next=4,ro().then((function(e){Oe.console(e+" GOT Errors"),Tr(!1)}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[X,en,tn,Lr]),Object(r.useEffect)((function(){function e(){return(e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!X||null===en||null===tn||!kr){e.next=4;break}return Oe.console("GettingLogsByDate"),e.next=4,eo().then((function(e){Oe.console(e+" GOT LOGS"),wr(!1),lo()}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[X,en,tn,kr]),Object(r.useEffect)((function(){function e(){return(e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!X||null!==en||null!==tn||!Lr){e.next=4;break}return Oe.console("GettingErrorsSLICEBySession"),e.next=4,no().then((function(e){Oe.console(e+" GOT Errors"),Tr(!1)}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Oe.console("Try fetch Errors"),function(){e.apply(this,arguments)}()}),[X,en,tn,Lr]),Object(r.useEffect)((function(){function e(){return(e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!X||null!==en||null!==tn||!kr){e.next=4;break}return Oe.console("GettingLogsSLICEBySession"),e.next=4,to().then((function(e){Oe.console(e+" GOT LOGS"),wr(!1),lo()}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Oe.console("Try fetch Logs"),function(){e.apply(this,arguments)}()}),[X,en,tn,kr]),Object(r.useEffect)((function(){function e(){return(e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!K||X||!Wt){e.next=4;break}return Oe.console("AuthPromiseHook"),e.next=4,ge.authPromise(be+"/v2/authAttempt").then((function(e){Z(!0)})).catch((function(e){alert(e),Yr()}));case 4:return e.abrupt("return");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[X,K,Wt]),Object(r.useEffect)((function(){ne>=0&&""!==Ne&&0===Ot&&(Oe.console("Setting IS Logs UPDATE needed"),wr(!0),Tr(!0),Wr())}),[Ne,ne]),Object(r.useEffect)((function(){!sr||kr||Lr||Ze(!1)}),[sr,kr,Lr]),Object(r.useEffect)((function(){X&&""!==ae&&void 0!==je[0]&&(Oe.console("GettingLogsServices"),function(){if(""!==Ne){var e={value:Ne};ge.secureFetch("http://localhost:5000/v2/private/getLogsServiceInfo",{method:"POST",body:JSON.stringify(e)}).then((function(e){return _r(e)})).then((function(e){null!==e&&(Oe.console("GetLogServiceInfoSuccess"),Pe(e.services))})).catch((function(e){Oe.console("Catching error"),Oe.err(e),Hr()}))}}())}),[ae,X,je]),Object(r.useEffect)((function(){var e=sessionStorage.getItem("lastSelectedSessionId");Oe.console("Reading SessionId fromSession "+e),e=parseInt(e),isNaN(e)||(re(e),void 0!==je[0]&&ne>0&&(Oe.console("Setting Session Name"),ue(je[ne-1].value)))}),[]),Object(r.useEffect)((function(){void 0!==je[0]&&ne>0&&(Oe.console("Setting Session Name "+ne),ue(je[ne-1].value))}),[je,ne]),Object(r.useEffect)((function(){0!==wt&&sessionStorage.setItem("lastSelectedSessionId",wt)}),[wt]),Object(r.useEffect)((function(){0!==ne&&sessionStorage.setItem("lastSelectedSessionId",ne)}),[ne]),Object(r.useEffect)((function(){if(ne>0&&Ot>=Sr){if(Oe.console("Try getting search page"),ne!==wt)return void mt(0);Oe.console("Getting Search Page"),function(){Oe.console("Calculating slice"),Oe.console("LOG ID"+lr[0].id);var e=po(Ot);Oe.console("Calculated page: "+e),Ct(e),Ze(!1),U(!1)}()}}),[Ot,Sr,ne]);var po=function(e){var n=Math.trunc((e-Sr)/t);return Oe.console("TRUNCATE: "+n),n+=1};return Object(O.jsx)(a.b,{history:e,children:Object(O.jsx)("div",{className:"App",children:Object(O.jsxs)(me.Provider,{value:{isAuthenticated:K},children:[Object(O.jsx)(oe,{searchText:N,handleSearchInput:function(e){if("INPUT"!==e.target.nodeName)return mt(0),yt(0),Tt(""),I(""),F(""),void Or([]);I(e.target.value)},handleSearchSubmit:function(e){U(!0),Ze(!0),e.preventDefault();var n={text:N,filename:Ne,limit:2e3,offset:gn*t};ge.secureFetch("http://localhost:5000/v2/private/findLogsWithLimit",{method:"POST",body:JSON.stringify(n)}).then((function(e){return _r(e)})).then((function(e){Oe.console("SearchSuccess"),at(Qr(e.logsCount)),Tn(e.logsCount),Or(e.currentLogs),Kn(e.backLogs),_n(e.forwardLogs),F(N),U(!1),Ze(!1)})).catch((function(e){Oe.console("Catching error"),Oe.console(e.response),void 0!==e.response&&401===e.response.status&&fe.remove("rToken",{path:"/"}),Oe.err(e),Hr()}))},handleFilterTextInput:function(e){Ue(e.target.value),""===e.target.value&&(at(Qr(Sn)),pt(Qr(kn)),bt(Qr(Ln)))},filterText:Me,handleSelectServiceChange:function(e){if("SELECT"!==e.target.nodeName)return Fe(""),at(Qr(Sn)),pt(Qr(kn)),bt(Qr(Ln)),void Oe.console("Selected node "+e.target.nodeName);Oe.console("Selected "+e.target),Fe(e.target.value)},services:Ce,value:Re}),Object(O.jsx)(le,{}),Object(O.jsxs)(d.d,{children:[Object(O.jsx)(ie,{exact:!0,path:"/",data:{logs:$n,submitted:M,logsDropdownValue:Ne,filteredLogs:Je,filteredErrors:He,filteredSearch:ze,filenames:ye,sessions:je,sessionsDropdownValue:ae,filterText:Me,filterService:Re,loading:Xe,logsPageCount:ct,errorsPageCount:ut,searchPageCount:jt,currentTab:nt,itemsPerPage:t,logId:Ot,searchedPage:xt,currentSlicePage:Dn,currentLogsPage:Dt,currentErrorsPage:Gt,currentSearchPage:Vt,datePicker:Mr,needScrollDown:ln,dateRange:$t,completeSearchRequest:R,handleLogsPageChange:function(e){Oe.console("PAGE CHANGED? OFFSET "+gn);var t=e-gn;if(Oe.console("COUNT currentLogsPage - offset = "+t),Oe.console("REQUEST Pending "+!sr),!sr&&co(t,1,n))return Oe.console("PAGE NOT CHanged"),void Ze(!0);Oe.console("Setting State Logs Page"),At(e),An(io(e)),uo(e)},handleErrorsPageChange:function(e){Oe.console("ERR PAGE CHANGED? OFFSET "+gn);var t=e-gn;if(Oe.console("COUNT currentLogsPage - offset = "+t),Oe.console("REQUEST Pending "+!sr),!sr&&co(t,1,n))return Oe.console("PAGE NOT CHanged"),void Ze(!0);Oe.console("Setting State Errors Page"),Bt(e),An(io(e)),uo(e)},handleSearchPageChange:function(e){Oe.console("Setting State Search Page"),qt(e),An(io(e)),uo(e)},handleSelectSessionChange:function(e){Oe.console("selected session "+e);var t=parseInt(e);re(t)},handleSelectFilenameChange:function(e){Oe.console("selected logfileId"+e);var t=parseInt(e),n=ye[t-1].value;console.info("Selected Filename"+n),ve([]),mt(0),Ie(n),re(0),ue(""),nr(!1)},handleTabClick:function(e){rt(e)},handleLinkClick:function(e){e.preventDefault(),U(!0),Ze(!0);var t=e.target.dataset.logId;Oe.console(e.target),Oe.console(t),t=parseInt(t);var n={id:t,value:Ne};ge.secureFetch("http://localhost:5000/v2/private/getLogById",{method:"POST",body:JSON.stringify(n)}).then((function(e){return _r(e)})).then((function(e){var t=e.log.id,n=e.log.sessionId;Oe.console("GetLogSuccess"),yt(n),re(n),Xt([null,null]),F(""),Or([]),mt(t),rt(0)})).catch((function(e){Oe.console("Catching error"),Oe.err(e),Hr()}))}},component:W}),Object(O.jsx)(d.b,{exact:!0,path:"/login",render:function(){return Object(O.jsx)(S,{user:c,pass:b,handleUsernameInput:Ur,handlePassInput:Vr,handleLoginSubmit:$r,handleRememberMeCheckbox:Jr,canRememberMe:J,submitted:M})}}),Object(O.jsx)(d.b,{exact:!0,path:"/logout",render:function(){return Object(O.jsx)(x,{handleLogoutSubmit:Xr,submitted:M,isAuthenticated:K})}}),Object(O.jsx)(d.b,{exact:!0,path:"/registration",render:function(){return Object(O.jsx)(C,{user:c,pass:b,confirmPass:v,passwordMatch:y,handleUsernameInput:Ur,handlePassInput:Vr,handleConfirmPassInput:qr,handleRegisterSubmit:oo})}})]})]})})})}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(446).a({dsn:"https://e77bac2571ba4f6294474757a57dd2b4@o662135.ingest.sentry.io/5765143",release:"my-project-name@"+Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).npm_package_version,integrations:[new je.a.BrowserTracing],tracesSampleRate:1}),c.a.render(Object(O.jsx)(a.a,{children:Object(O.jsx)(ve,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[425,1,2]]]);
//# sourceMappingURL=main.2969fe66.chunk.js.map